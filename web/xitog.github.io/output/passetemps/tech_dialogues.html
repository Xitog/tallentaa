<html lang="fr">
<head>
  <meta charset=utf-8>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dialogues</title>
  <link rel="icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link href="https://xitog.github.io/dgx/css/simplex.bootstrap.css" rel="stylesheet">
  <link href="https://xitog.github.io/dgx/css/palatino.css" rel="stylesheet">
<style type="text/css">
i { color: blue; }
</style>
<style type="text/css">
code {color: #006FDD; border: 1px solid rgb(225, 228, 229); padding-left: 3px; padding-right: 5px;}
</style>
</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<div id="main" class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="https://xitog.github.io/dgx/index.html">Accueil</a></li>
              <li id="Blog"><a href="https://xitog.github.io/dgx/blog.html">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="https://xitog.github.io/dgx/francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="https://xitog.github.io/dgx/francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="https://xitog.github.io/dgx/italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="https://xitog.github.io/dgx/anglais/jeu_vocabulaire.html">Jeu sur le vocabulaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/anglais/verbes.html">Verbes fréquents</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Interlingua</li>
                  <li><a href="https://xitog.github.io/dgx/interlingua/conjugueur.html">Conjugueur</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="https://xitog.github.io/dgx/linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby_guide.html">Guide Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ash_guide.html">Guide Ash</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/bnf.html">Aide-mémoire BNF et EBNF</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/json.html">Aide-mémoire JSON</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/hamill.html">Aide-mémoire Hamill</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/tools_langs.html">Logiciels utiles et autres langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/methode.html">Généralités</a></li>
                  <li><a href="https://xitog.github.io/dgx/histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/france19eme.html">France au XIX<sup>e</sup></a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Passe-temps <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Présentations générales</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeux.html">Les jeux</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeuxvideo.html">Les jeux vidéo</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_favoris.html">Favoris artistiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux de rôles</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/systemes_rpg.html">Systèmes des RPG</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres-jeux</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Histoire des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_fps.html">Les enfants de Doom : les FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Techniques des jeux vidéo</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_raycasting_fr.html">Le raycasting : la 2.5D</a>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_transitions.html">Cartes et transitions</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_dialogues.html">Dialogues</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux vidéo et outils maison</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_teddy.html">Éditeur de carte</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_rts.html">Jouer à mon RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_fps.html">Jouer à mon FPS</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Musique</li>
                  <li><a href="https://xitog.github.io/dgx/concerts_classiques/index.html">Concerts classiques</a></li>
                  <li><a href="https://xitog.github.io/dgx/favoris/musiques.html">Musiques favorites</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Liens</li>
                  <li><a href="https://xitog.github.io/dgx/plan.html">Plan du site</a></li>
                  <li><a href="https://xitog.github.io/dgx/liens.html">Barre de liens</a></li>
                  <li><a href="https://xitog.github.io/dgx/liste_liens.html">Collection de liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
<div id="content-div">
<h1 id="dialogues">Dialogues</h1>
<hr>
<h2 id="sommaire">Sommaire</h2>
<ul>
  <li><a href="#i.-un-système-de-dialogues">I. Un système de dialogues</a>
    <ul>
      <li><a href="#i.a-modélisation-des-dialogues-en-arbre">I.A Modélisation des dialogues en arbre</a></li>
      <li><a href="#i.b-séparation-de-la-structure-et-des-données">I.B Séparation de la structure et des données</a></li>
      <li><a href="#i.c-internationalisation">I.C Internationalisation</a></li>
      <li><a href="#i.d-parcours">I.D Parcours</a></li>
      <li><a href="#i.e-exemples-de-résultats">I.E Exemples de résultats</a></li>
    </ul>
  </li>
  <li><a href="#ii.-historique">II. Historique</a></li>
  <li><a href="#iii.-crédits">III. Crédits</a></li>
</ul>
<h2 id="i.-un-système-de-dialogues">I. Un système de dialogues</h2>
<p>Un système de dialogue permet de gérer les échanges entre le personnage du joueur et des personnages non-joueurs (PNJ). Le joueur choisir les réponses de son personnage. Dans les systèmes classiques, comme celui de <code><span class="text-normal">Baldur's Gate</span></code>, les choix proposent la réponse complète qui sera prononcée une fois qu'elle sera choisie. Dans d’autres, comme <code><span class="text-normal">Mass Effect</span></code>, seul une idée générale de la réponse est donnée, avec parfois des effets d’incompréhension. Notre système se veut classique.</p>
<h3 id="i.a-modélisation-des-dialogues-en-arbre">I.A Modélisation des dialogues en arbre</h3>
<p>La première étape est de séparer la structure des dialogues, les enchaînements et les choix, du texte des dialogues. Pour cela, les dialogues vont être enregistrés sous la forme d'arbre. Nous présentons ci-dessous un exemple d'arbre avec le texte, en utilisant le codage suivant :</p>
<ul>
  <li>Les phrases en noir indiquent les dialogues du PNJ,</li>
  <li>les phrases en <i>italique et bleu</i> sont les réponses que le personnage du joueur peut prononcer,</li>
  <li>entre parenthèses le ton des réponses du joueur pour aider à leur compréhension,</li>
  <li>entre crochets des tests nécessaires pour avoir accès à une réponse du joueur ou obtenir une réponse d'un PNJ.</li>
</ul>
<p>Exemple d'arbre de dialogue avec texte, le joueur incarne un inquisiteur chargé de trouver une certaine Siriah Anrir, qui réussirait des miracles à l'aide d'arts sombres. Pour cela, il se rend dans le village où elle serait située et entrepend un villageois :</p>
<ul>
  <li>Bonjour, étranger, que puis-je pour vous ?
    <ol>
      <li><i>Je cherche Siriah Anrir, où puis la trouver ?</i>
        <ul>
          <li>Je ne connais pas cette Dame.</li>
          <li>[Charisme &gt; 14] Pourquoi voulez-vous rencontrer notre Dame ?
            <ol>
              <li><i>[Intelligence &gt; 14] (mensonge) On m'a vanté ses pouvoirs et j'aurais aimé être béni.</i>
                <ul>
                  <li>[Charisme &gt; 16] Très bien, son temple est sous la maison communale.</li>
                  <li>Elle viendra à vous quand vous serez prêt. Bonne journée.</li>
                </ul>
              </li>
              <li><i>Je suis ici pour enquêter sur ses agissements.</i>
                <ul>
                  <li>Je n'ai rien à vous dire. Bonne journée.</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </li>
      <li><i>Je désire rencontrer le chef du village.</i>
        <ul>
          <li>Le bourgmestre a disparu depuis trois nuits. Tout le village est très inquiet. Pourriez-vous nous aider à la retrouver ?
            <ol>
              <li><i>Je vais voir ce que je peux faire.</i></li>
              <li><i>(désolé) Je suis désolé mais je ne peux pas vous aider.</i>
                <ul>
                  <li>Cela ne fait rien. Bonne route étranger.</li>
                </ul>
              </li>
              <li><i>(méprisant) Cela ne m'intéresse pas.</i></li>
            </ol>
          </li>
        </ul>
      </li>
      <li><i>J'ai besoin de soin.</i>
        <ul>
          <li>Vous trouverez le shaman dans sa hutte, à la lisière des bois.
            <ul>
              <li><i>Merci, au revoir.</i></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
</ul>
<p>On voit que la structure de données applicable ici est <b>un arbre</b>.</p>
<h3 id="i.b-séparation-de-la-structure-et-des-données">I.B Séparation de la structure et des données</h3>
<p>On va séparer les données, le texte, de la structure. On a d'un côté la structure qui garde, en plus de l'arborescence des réponses indiquant les enchaînements et les choix possibles, la personne qui parle et les tests associés. On indique le texte par un simple identifiant numérique. Pour ne pas confondre, les nombres indiquant un choix sont en rouge :</p>
<ul>
  <li>1
    <ol>
      <li><i>2</i>
        <ul>
          <li>3</li>
          <li>[Charisme &gt; 14] 4
            <ol>
              <li><i>[Intelligence &gt; 14] 5</i>
                <ul>
                  <li>[Charisme &gt; 16] 6</li>
                  <li>7</li>
                </ul>
              </li>
              <li><i>8</i>
                <ul>
                  <li>9</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </li>
      <li><i>10</i>
        <ul>
          <li>11
            <ol>
              <li><i>12</i></li>
              <li><i>13</i>
                <ul>
                  <li>14</li>
                </ul>
              </li>
              <li><i>15</i></li>
            </ol>
          </li>
        </ul>
      </li>
      <li><i>16</i>
        <ul>
          <li>17
            <ul>
              <li><i>18</i></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
</ul>
<p>Et le texte, qu'on peut stocker dans un fichier texte, XML, JSON ou binaire, qui est de la forme clé =&gt; texte :</p>
<ol>
  <li>Bonjour, étranger, que puis-je pour vous ?</li>
  <li>Je cherche Siriah Anrir, où puis la trouver ?</li>
  <li>Je ne connais pas cette Dame.</li>
  <li>Pourquoi voulez-vous rencontrer notre Dame ?</li>
  <li>(mensonge) On m'a vanté ses pouvoirs et j'aurais aimé être béni.</li>
  <li>Très bien, son temple est sous la maison communale.</li>
  <li>Elle viendra à vous quand vous serez prêt. Bonne journée.</li>
  <li>Je suis ici pour enquêter sur ses agissements.</li>
  <li>Je n'ai rien à vous dire. Bonne journée.</li>
  <li>Je désire rencontrer le chef du village.</li>
  <li>Le bourgmestre a disparu depuis trois nuits. Tout le village est très inquiet. Pourriez-vous nous aider à la retrouver ?</li>
  <li>Je vais voir ce que je peux faire.</li>
  <li>(désolé) Je suis désolé mais je ne peux pas vous aider.</li>
  <li>Cela ne fait rien. Bonne route étranger.</li>
  <li>(méprisant) Cela ne m'intéresse pas.</li>
  <li>J'ai besoin de soin.</li>
  <li>Vous trouverez le shaman dans sa hutte, à la lisière des bois.</li>
  <li>Merci, au revoir.</li>
</ol>
<h3 id="i.c-internationalisation">I.C Internationalisation</h3>
<p>Ce système de dialogue doit être pensé pour être facilement internationalisable : traduisible en de nombreuses langues, sans nécessiter de recompiler ou recoder une partie du système spécifiquement pour une langue. La division effectuée dans le chapitre précédent facilite grandement cette étape : la structure de l'arbre ne change pas d'une langue à l'autre, seuls les lignes de textes changent. Il suffit de faire traduire la ressource contenant toutes les répliques pour traduire le jeu.</p>
<h3 id="i.d-parcours">I.D Parcours</h3>
<h3 id="i.e-exemples-de-résultats">I.E Exemples de résultats</h3>
<h2 id="ii.-historique">II. Historique</h2>
<h2 id="iii.-crédits">III. Crédits</h2>
</div>
</div>
</body>