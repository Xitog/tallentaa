<html lang="fr">
<head>
  <meta charset=utf-8>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dialogues</title>
  <link rel="icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link href="https://xitog.github.io/dgx/css/simplex.bootstrap.css" rel="stylesheet">
  <link href="https://xitog.github.io/dgx/css/palatino.css" rel="stylesheet">
<style type="text/css">
i { color: blue; }
</style>
<style type="text/css">
code {color: #006FDD; border: 1px solid rgb(225, 228, 229); padding-left: 3px; padding-right: 5px; }
</style>
<style type="text/css">
form { padding: 2 px; font-size: 14px; color: black; }
</style>
<style type="text/css">
div#entry { border: 1px #CCCCCC black; background: #EEEEEE; padding: 10px; }
</style>
<style type="text/css">
div#entry a {font-size: 14px; }
</style>
<style type="text/css">
div#footer p { text-align: center; font-size: 14px; color: #CCCCCC; margin: 10px; }
</style>
</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<div id="main" class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="https://xitog.github.io/dgx/index.html">Accueil</a></li>
              <li id="Blog"><a href="https://xitog.github.io/dgx/blog.html">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="https://xitog.github.io/dgx/francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="https://xitog.github.io/dgx/francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="https://xitog.github.io/dgx/italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="https://xitog.github.io/dgx/anglais/jeu_vocabulaire.html">Jeu sur le vocabulaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/anglais/verbes.html">Verbes fréquents</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Interlingua</li>
                  <li><a href="https://xitog.github.io/dgx/interlingua/conjugueur.html">Conjugueur</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="https://xitog.github.io/dgx/linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby_guide.html">Guide Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ash_guide.html">Guide Ash</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/bnf.html">Aide-mémoire BNF et EBNF</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/json.html">Aide-mémoire JSON</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/hamill.html">Aide-mémoire Hamill</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/tools_langs.html">Logiciels utiles et autres langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/methode.html">Généralités</a></li>
                  <li><a href="https://xitog.github.io/dgx/histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/france19eme.html">France au XIX<sup>e</sup></a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Passe-temps <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Présentations générales</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeux.html">Les jeux</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeuxvideo.html">Les jeux vidéo</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_favoris.html">Favoris artistiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux de rôles</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/systemes_rpg.html">Systèmes des RPG</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres-jeux</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Histoire des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_fps.html">Les enfants de Doom : les FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Techniques des jeux vidéo</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_raycasting_fr.html">Le raycasting : la 2.5D</a>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_transitions.html">Cartes et transitions</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_dialogues.html">Dialogues</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux vidéo et outils maison</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_teddy.html">Éditeur de carte</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_rts.html">Jouer à mon RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_fps.html">Jouer à mon FPS</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Musique</li>
                  <li><a href="https://xitog.github.io/dgx/concerts_classiques/index.html">Concerts classiques</a></li>
                  <li><a href="https://xitog.github.io/dgx/favoris/musiques.html">Musiques favorites</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Liens</li>
                  <li><a href="https://xitog.github.io/dgx/plan.html">Plan du site</a></li>
                  <li><a href="https://xitog.github.io/dgx/liens.html">Barre de liens</a></li>
                  <li><a href="https://xitog.github.io/dgx/liste_liens.html">Collection de liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
<div id="content-div">
<h1 id="dialogues">Dialogues</h1>
<hr>
<h2 id="sommaire">Sommaire</h2>
<ul>
  <li><a href="#i.-un-système-de-dialogues">I. Un système de dialogues</a></li>
  <li><a href="#ii.-modélisation-des-dialogues-en-arbre">II. Modélisation des dialogues en arbre</a></li>
  <li><a href="#iii.-séparation-de-la-structure-et-des-données">III. Séparation de la structure et des données</a></li>
  <li><a href="#iv.-internationalisation">IV. Internationalisation</a></li>
  <li><a href="#v.-exemple-de-parcours">V. Exemple de parcours</a></li>
</ul>
<h2 id="i.-un-système-de-dialogues">I. Un système de dialogues</h2>
<p>Un système de dialogue permet de gérer les échanges entre le personnage du joueur et des personnages non-joueurs (PNJ). Le joueur choisir les réponses de son personnage. Dans les systèmes classiques, comme celui de <code><span class="text-normal">Baldur's Gate</span></code>, les choix proposent la réponse complète qui sera prononcée une fois qu'elle sera choisie. Dans d’autres, comme <code><span class="text-normal">Mass Effect</span></code>, seul une idée générale de la réponse est donnée, avec parfois des effets d’incompréhension. Notre système se veut classique.</p>
<h3 id="ii.-modélisation-des-dialogues-en-arbre">II. Modélisation des dialogues en arbre</h3>
<p>La première étape est de séparer la structure des dialogues, les enchaînements et les choix, du texte des dialogues. Pour cela, les dialogues vont être enregistrés sous la forme d'arbre. Nous présentons ci-dessous un exemple d'arbre avec le texte, en utilisant le codage suivant :</p>
<ul>
  <li>Les phrases en noir indiquent les dialogues du PNJ,</li>
  <li>les phrases en <i>italique et bleu</i> sont les réponses que le personnage du joueur peut prononcer,</li>
  <li>entre parenthèses le ton des réponses du joueur pour aider à leur compréhension,</li>
  <li>entre crochets des tests nécessaires pour avoir accès à une réponse du joueur ou obtenir une réponse d'un PNJ.</li>
</ul>
<p>Exemple d'arbre de dialogue avec texte, le joueur incarne un inquisiteur chargé de trouver une certaine Siriah Anrir, qui réussirait des miracles à l'aide d'arts sombres. Pour cela, il se rend dans le village où elle serait située et entrepend un villageois :</p>
<ul>
  <li>Bonjour, étranger, que puis-je pour vous ?
    <ol>
      <li><i>Je cherche Siriah Anrir, où puis la trouver ?</i>
        <ul>
          <li>Je ne connais pas cette Dame.</li>
          <li>[Charisme &gt; 14] Pourquoi voulez-vous rencontrer notre Dame ?
            <ol>
              <li><i>[Intelligence &gt; 14] (mensonge) On m'a vanté ses pouvoirs et j'aurais aimé être béni.</i>
                <ul>
                  <li>[Charisme &gt; 16] Très bien, son temple est sous la maison communale.</li>
                  <li>Elle viendra à vous quand vous serez prêt. Bonne journée.</li>
                </ul>
              </li>
              <li><i>Je suis ici pour enquêter sur ses agissements.</i>
                <ul>
                  <li>Je n'ai rien à vous dire. Bonne journée.</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </li>
      <li><i>Je désire rencontrer le chef du village.</i>
        <ul>
          <li>La bourgmestre a disparu depuis trois nuits. Tout le village est très inquiet. Pourriez-vous nous aider à la retrouver ?
            <ol>
              <li><i>Je vais voir ce que je peux faire.</i>
                <ul>
                  <li>Merci Messire !</li>
                </ul>
              </li>
              <li><i>(désolé) Je suis désolé mais je ne peux pas vous aider.</i>
                <ul>
                  <li>Cela ne fait rien. Bonne route étranger.</li>
                </ul>
              </li>
              <li><i>(méprisant) Cela ne m'intéresse pas.</i></li>
            </ol>
          </li>
        </ul>
      </li>
      <li><i>J'ai besoin de soin.</i>
        <ul>
          <li>Vous trouverez le shaman dans sa hutte, à la lisière des bois.
            <ul>
              <li><i>Merci, au revoir.</i></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
</ul>
<p>On voit que la structure de données applicable ici est <b>un arbre</b>.</p>
<h2 id="iii.-séparation-de-la-structure-et-des-données">III. Séparation de la structure et des données</h2>
<p>On va séparer les données : d'un côté le texte, de l'autre la structure. Le texte sera indiqué par un simple identifiant numérique. La structure c'est l'arborescence des réponses, indiquant les enchaînements et les choix possibles. Elle est constituée de nœuds, chaque nœud peut être un nœud simple ou nœud de choix. Un nœud simple contient :</p>
<ul>
  <li>une éventuelle action (prendre ou donner un objet ou de l'argent, faire baisser ou monter la réputation, attaquer le joueur)</li>
  <li>un texte</li>
  <li>un ou plusieurs embranchements.</li>
</ul>
<p>Un embranchement est constitué d'une suite de conditions avec à chaque fois le nœud suivant si la condition est vraie. La première condition vraie détermine le nœud suivant.</p>
<p>Un nœud de choix contient :</p>
<ul>
  <li>un texte</li>
  <li>au moins une option de réponse (s'il n'y en a qu'une cela permet de simuler une parole échangée).</li>
</ul>
<p>Chaque option contient :</p>
<ul>
  <li>une éventuelle condition pour que ce choix soit accessible</li>
  <li>un texte</li>
  <li>un ou plusieurs embranchements si ce choix est fait</li>
</ul>
<p>On peut transformer ainsi notre dialogue, le chiffre entre parenthèses indique son numéro de référence, les conditions sont entre crochets, et le type d'objet (nœud simple, nœud choix, texte, option, embranchement) est indiqué entre accolades, nous le reconstruisons ainsi :</p>
<ul>
  <li><b><span id="nœud-n°1">Nœud n°1</span></b> {choix}
    <ul>
      <li>{texte} (1) Bonjour, étranger, que puis-je pour vous ?</li>
      <li>{options}
        <ul>
          <li>{option}
            <ul>
              <li>{condition} aucune</li>
              <li>{texte} <i>(2) Je cherche Siriah Anrir, où puis la trouver ?</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} [Charisme &lt;= 14]</li>
                      <li>{suite} va à <a href="#nœud-n°1-1">nœud n°1-1</a></li>
                    </ul>
                  </li>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} [Charisme &gt; 14]</li>
                      <li>{suite} va à <a href="#nœud-n°1-2">nœud n°1-2</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>{option}
            <ul>
              <li>{condition} aucune</li>
              <li>{texte} <i>(3) Je désire rencontrer le chef du village.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} va à <a href="#nœud-n°1-3">nœud n°1-3</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>{option}
            <ul>
              <li>{condition} aucune</li>
              <li>{texte} <i>(4) J'ai besoin de soin.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} va à <a href="#nœud-n°1-4">nœud n°1-4</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-1">Nœud n°1-1</span></b> {simple}
    <ul>
      <li>{action} aucune</li>
      <li>{texte} (5) Je ne connais pas cette Dame.</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-2">Nœud n°1-2</span></b> {choix}
    <ul>
      <li>{texte} (6) Pourquoi voulez-vous rencontrer notre Dame ?</li>
      <li>{options}
        <ul>
          <li>{option}
            <ul>
              <li>{condition} [Intelligence &gt; 14]</li>
              <li>{texte} <i>(7) (mensonge) On m'a vanté ses pouvoirs et j'aurais aimé être béni.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} [Charisme &gt; 16]</li>
                      <li>{suite} va à <a href="#nœud-n°1-2-1">nœud n°1-2-1</a></li>
                    </ul>
                  </li>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} va à <a href="#nœud-n°1-2-2">nœud n°1-2-2</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>{option}
            <ul>
              <li>{condition} aucune</li>
              <li>{texte} <i>(8) Je suis ici pour enquêter sur ses agissements.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} va à <a href="#nœud-n°1-2-3">nœud n°1-2-3</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-2-1">Nœud n°1-2-1</span></b> {simple}
    <ul>
      <li>{action} ajouter temple sur la carte</li>
      <li>{texte} (9) Très bien, son temple est sous la maison communale.</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-2-2">Nœud n°1-2-2</span></b> {simple}
    <ul>
      <li>{action} aucune</li>
      <li>{texte} (10) Elle viendra à vous quand vous serez prêt. Bonne journée.</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-2-3">Nœud n°1-2-3</span></b> {simple}
    <ul>
      <li>{action} aucune</li>
      <li>{texte} (11) Je n'ai rien à vous dire. Bonne journée.</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-3">Nœud n°1-3</span></b> {choix}
    <ul>
      <li>{texte} (12) La bourgmestre a disparu depuis trois nuits. Tout le village est très inquiet. Pourriez-vous nous aider à la retrouver ?</li>
      <li>{options}
        <ul>
          <li>{option}
            <ul>
              <li>{condition} aucune</li>
              <li>{texte} <i>(13) Je vais voir ce que je peux faire.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} va à <a href="#nœud-n°1-3-1">nœud n°1-3-1</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>{option}
            <ul>
              <li>{texte} <i>(14) (désolé) Je suis désolé mais je ne peux pas vous aider.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} va à <a href="#nœud-n°1-3-2">nœud n°1-3-2</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>{option}
            <ul>
              <li>{texte} <i>(15) (méprisant) Cela ne m'intéresse pas.</i></li>
              <li>{embranchements}
                <ul>
                  <li>{embranchement}
                    <ul>
                      <li>{condition} aucune</li>
                      <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-3-1">Nœud n°1-3-1</span></b> {simple}
    <ul>
      <li>{action} ajouter quête "retrouver le bourgmestre" au journal</li>
      <li>{texte} (16) Merci Messire !</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-3-2">Nœud n°1-3-2</span></b> {simple}
    <ul>
      <li>{action} ajouter au journal la mention "le bourgmestre a disparu"</li>
      <li>{texte} (17) Cela ne fait rien. Bonne route étranger.</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="nœud-n°1-4">Nœud n°1-4</span></b> {simple}
    <ul>
      <li>{action} ajouter la hutte du shaman sur la carte</li>
      <li>{texte} (18) Vous trouverez le shaman dans sa hutte, à la lisière des bois.</li>
      <li>{embranchements}
        <ul>
          <li>{embranchement}
            <ul>
              <li>{condition} aucune</li>
              <li>{suite} <a href="#fin-du-dialogue">fin du dialogue</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><b><span id="fin-du-dialogue">Fin du dialogue</span></b></li>
</ul>
<h3 id="iv.-internationalisation">IV. Internationalisation</h3>
<p>Ce système de dialogue doit être pensé pour être facilement internationalisable : traduisible en de nombreuses langues, sans nécessiter de recompiler ou recoder une partie du système spécifiquement pour une langue donnée.</p>
<p>On peut extraire de la partie précédente le texte de la structure des dialogues pour ne garder que son identifiant. On stocke ensuite dans un fichier texte, XML, JSON ou binaire des couples associant une clé, auquel correspond une ou plusieurs références, et un texte :</p>
<ol>
  <li>Bonjour, étranger, que puis-je pour vous ?</li>
  <li>Je cherche Siriah Anrir, où puis la trouver ?</li>
  <li>...</li>
</ol>
<p>Cette division facilite grandement cette étape : la structure de l'arbre ne change pas d'une langue à l'autre, seuls les lignes de textes changent. Il suffit de faire traduire la ressource contenant toutes les répliques pour traduire le jeu. Il faut néanmoins faire attention à :</p>
<ul>
  <li>Si le jeu de caractère utilisé par le jeu est prévu pour la langue (caractères accentuées).</li>
  <li>Si l'espace dans lequel s'affiche les textes est assez grand (une traduction pouvant être beaucoup plus longue que le texte d'origine).</li>
</ul>
<h3 id="v.-exemple-de-parcours">V. Exemple de parcours</h3>
<p>Cette petite implémentation en JavaScript illustre tous les principes exposés ci-dessus en reprenant les mêmes données.</p>
<p>Votre personnage :</p>
<form>
Intelligence <input type="text" id="int" name="int" required minlength="2" maxlength="2" size="2" value="10"/>
Charisme <input type="text" id="chr" name="chr" required minlength="2" maxlength="2" size="2" value="10"/>
</form>
<div id="entry">
<p>Vous êtes l'inquisiteur Larius et vous arrivez dans le petit village où vous devez enquêter sur les agissements d'une mystérieuse sorcière hérétique.</p>
<a onclick="start('n1'); false;">Démarrer le dialogue</a>
</div>
  <script src="tech_dialogues.js"></script>
<div id="footer">
<p>Damien Gouteux, 30 juillet 2020</p>
</div>
</div>
</div>
</body>