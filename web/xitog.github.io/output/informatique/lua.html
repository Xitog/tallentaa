<html lang="fr">
<head>
  <meta charset=utf-8>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Aide-mémoire Lua</title>
  <link rel="icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link href="https://xitog.github.io/dgx/css/simplex.bootstrap.css" rel="stylesheet">
  <link href="https://xitog.github.io/dgx/css/flashy.css" rel="stylesheet">
<style type="text/css">
body       { font-family: "Palatino Linotype"; font-size: 16px; }
</style>
<style type="text/css">
h1, h2, h3 { font-family: "Palatino Linotype"; font-weight: bold; }
</style>
<style type="text/css">
h1         { color: #14cc67; font-size: 22px; margin-top: 18px; margin-bottom: 6px;border-bottom: 1px solid #14cc67; }
</style>
<style type="text/css">
h2         { color: #6714cc; font-size: 18px; margin-top: 12px; margin-bottom: 6px; border-bottom: none;}
</style>
<style type="text/css">
h3         { color: #cc6714; font-size: 16px; margin-top:  6px; margin-bottom: 4px; }
</style>
<style type="text/css">
li a       { color: #6714cc; font-size: 16px; }
</style>
<style type="text/css">
li         { font-size: 16px; color: black; }
</style>
<style type="text/css">
@media screen and (min-width: 600px) { .row    { display: flex; } }
</style>
<style type="text/css">
@media screen and (min-width: 600px) { .column { flex: 50%; margin-left: 0.5em; margin-right: 0.5em; } }
</style>
<style type="text/css">
@media screen and (max-width: 599px) { .row    { padding-left: 15px; padding-right: 15px; } }
</style>
<style type="text/css">
p          { text-align: justify; margin-top: 12px; margin-bottom: 12px;}
</style>
<style type="text/css">
p.sign     { text-align: center; color: grey; font-size: 12px;}
</style>
<style type="text/css">
b          { text-size: 12px; font-weight: normal; font-family: "Palatino Linotype"; }
</style>
<style type="text/css">
p code                         { font-size: 12px; background-color: #F9F9F9; }
</style>
<style type="text/css">
p code span                    { font-family: "Monospace"; }
</style>
<style type="text/css">
p code span.type               { color: purple;  }
</style>
<style type="text/css">
p code span.lua-identifier     { color: black;   }
</style>
<style type="text/css">
p code span.lua-operator       { color: black;   }
</style>
<style type="text/css">
p code span.lua-separator      { color: black;   }
</style>
<style type="text/css">
p code span.lua-special        { color: purple;  }
</style>
<style type="text/css">
p code span.lua-nil            { color: #1479cc; }
</style>
<style type="text/css">
p code span.lua-boolean        { color: #1479cc; }
</style>
<style type="text/css">
p code span.lua-number         { color: red;     }
</style>
<style type="text/css">
p code span.lua-comment        { color: grey;    font-style: italic; }
</style>
<style type="text/css">
p code span.lua-line_comment   { color: grey; font-style: italic; }
</style>
<style type="text/css">
p code span.lua-string         { color: orange;  }
</style>
<style type="text/css">
p code span.lua-keyword        { color: #1479cc; }
</style>
<style type="text/css">
pre.code                       { font-size: 12px }
</style>
<style type="text/css">
pre.code span                  { font-family: "Monospace"; }
</style>
<style type="text/css">
pre.code span.type             { color: purple;  }
</style>
<style type="text/css">
pre.code span.lua-identifier   { color: black;   }
</style>
<style type="text/css">
pre.code span.lua-operator     { color: black;   }
</style>
<style type="text/css">
pre.code span.lua-separator    { color: black;   }
</style>
<style type="text/css">
pre.code span.lua-special      { color: purple;  }
</style>
<style type="text/css">
pre.code span.lua-nil          { color: #1479cc; }
</style>
<style type="text/css">
pre.code span.lua-boolean      { color: #1479cc; }
</style>
<style type="text/css">
pre.code span.lua-number       { color: red;     }
</style>
<style type="text/css">
pre.code span.lua-comment      { color: grey; font-style: italic; }
</style>
<style type="text/css">
pre.code span.lua-line_comment { color: grey; font-style: italic; }
</style>
<style type="text/css">
pre.code span.lua-string       { color: orange;  }
</style>
<style type="text/css">
pre.code span.lua-keyword      { color: #1479cc; }
</style>
<style type="text/css">
span.type                      { color: #14cc67; }
</style>
</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<div id="main" class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="https://xitog.github.io/dgx/index.html">Accueil</a></li>
              <li id="Blog"><a href="https://xitog.github.io/dgx/blog.html">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="https://xitog.github.io/dgx/francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="https://xitog.github.io/dgx/francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="https://xitog.github.io/dgx/italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="https://xitog.github.io/dgx/anglais/jeu_vocabulaire.html">Jeu sur le vocabulaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/anglais/verbes.html">Verbes fréquents</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Interlingua</li>
                  <li><a href="https://xitog.github.io/dgx/interlingua/conjugueur.html">Conjugueur</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="https://xitog.github.io/dgx/linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby_guide.html">Guide Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ash_guide.html">Guide Ash</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/bnf.html">Aide-mémoire BNF et EBNF</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/json.html">Aide-mémoire JSON</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/hamill.html">Aide-mémoire Hamill</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/tools_langs.html">Logiciels utiles et autres langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/methode.html">Généralités</a></li>
                  <li><a href="https://xitog.github.io/dgx/histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/france19eme.html">France au XIX<sup>e</sup></a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Passe-temps <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Présentations générales</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeux.html">Les jeux</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeuxvideo.html">Les jeux vidéo</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_favoris.html">Favoris artistiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux de rôles</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/systemes_rpg.html">Systèmes des RPG</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres-jeux</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Histoire des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_fps.html">Les enfants de Doom : les FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Techniques des jeux vidéo</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_raycasting_fr.html">Le raycasting : la 2.5D</a>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_transitions.html">Cartes et transitions</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_dialogues.html">Dialogues</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux vidéo et outils maison</i></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_teddy.html">Éditeur de carte</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_rts.html">Jouer à mon RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_fps.html">Jouer à mon FPS</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Musique</li>
                  <li><a href="https://xitog.github.io/dgx/concerts_classiques/index.html">Concerts classiques</a></li>
                  <li><a href="https://xitog.github.io/dgx/favoris/musiques.html">Musiques favorites</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Liens</li>
                  <li><a href="https://xitog.github.io/dgx/plan.html">Plan du site</a></li>
                  <li><a href="https://xitog.github.io/dgx/liens.html">Barre de liens</a></li>
                  <li><a href="https://xitog.github.io/dgx/liste_liens.html">Collection de liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
<div id="content-div">
<h1 id="1.-bases-du-langage">1. Bases du langage</h1>
<div class="row">
<div class="column">
<h2 id="description">Description</h2>
<p>Lua, lune en portugais, est un langage de script, gratuit, concis et simple :</p>
<ul>
  <li>Concis car le langage est assez petit aussi bien dans son nombre de mots-clés que les concepts qu'il met en jeu. Il n'y a par exemple qu'un type de données structurées, les tables, alors que de Python utilisent des tuples, des sets, des listes, des dictionnaires. L'orientation objet n'est pas supportée par des mots-clés dans le langage, il faut la reprogrammer à la main mais Lua offre des facilités pour développer les capacités du langage.</li>
  <li>Simple car Lua a une syntaxe assez standard et très permissive : on peut appeler une fonction sans respecter le nombre de paramètres demandés, on peut simplement concaténer deux expressions à la suite, il n'y pas de système de typage des variables.</li>
</ul>
<p>La version actuelle (mars 2021) est la version 5.4 disponible selon les termes de la licence MIT. Ses fichiers portent l'extension <code><span class="text-normal">.lua</span></code>.</p>
<h2 id="historique-et-influences">Historique et influences</h2>
<p>Lua a été développé au Brésil à partir de 1993 par Roberto Ierusalimschy, Waldemar Celes et Luiz Henrique de Figueiredo au sein du groupe de recherche <i>Computer Graphics Technology Group</i> (<a href="https://www.tecgraf.puc-rio.br/">TeCGraf</a> <sup>[pt, en]</sup>), de l'université pontificale catholique de Rio de Janeiro avec l'aide du géant industriel <a href="http://www.petrobras.com.br/en/">Petrobras</a> <sup>[en]</sup>.</p>
<p>Sa syntaxe emprunte au langage Modula, un langage développé dans les années 70 en Suisse par Niklaus Wirth, le créateur de Pascal. Elle présente des similarités avec le langage de script Ruby (sans la partie orientée objet).</p>
<h2 id="désavantages">Désavantages</h2>
<ul>
  <li>L'absence de mécanisme d'orientation objet de base,</li>
  <li>Le danger de pouvoir concaténer deux expressions à la suite, sans avoir besoin de séparateurs : 3+5 2 est valide en Lua !</li>
  <li>Une bibliothèque standard minimaliste (mais permet une taille réduite)</li>
  <li>Il n'y a pas de mot clé continue ou next pour avancer une itération</li>
  <li>L'opérateur de différence ~= au lieu du standard de facto !=</li>
  <li>La fusion du concept de liste et de dictionnaire</li>
  <li>La difficulté à connaître la longueur d'une liste et s'assurer de sa continuité</li>
</ul>
</div>
<div class="column">
<h2 id="utilisations">Utilisations</h2>
<p>Lua peut être utilisé de deux façons :</p>
<ul>
  <li>Via l'interpréteur en tant qu'API C embarqué dans une <b>application hôte</b>. il permet de piloter celle-ci via des scripts en utilisant les fonctions supplémentaires qu'elle met à leur disposition et les bibliothèques Lua. Sa concision fait qu'il ne prend pas trop de place dans l'application hôte. On parle alors de <b>langage d'extension</b> (<i>extension language</i>) ou <b>embarqué</b> (<i>embedded</i>).</li>
  <li>Via l'interpréteur en tant qu'application, appelé <b>lua</b>, on ne peut alors utiliser que les bibliothèques en Lua mais celles-ci sont nombreuses. On parle alors d'utilisation en tant que <b>langage principal</b> (<i>stand alone</i>). On peut utiliser ce dernier pour exécuter d'un coup des scripts Lua ou en mode interactif via une boucle REPL (<i>read-eval-print-loop</i>) en entrant au fur et à mesure des instructions qui sont exécutées au fur et à mesure qu'elles sont entrées dans l'interpréteur. L'interpréteur est programmé en C.</li>
</ul>
<p>L'interpréteur n'interprète pas directement le script mais le compile en bytecode et envoi celui-ci à la machine virtuelle Lua.</p>
<p>Lua est utilisée de façon embarquée dans de nombreux applications, en particulier des jeux vidéo. On peut citer le lecteur multimédia VLC et le jeu World of Warcraft.</p>
<h2 id="bonjour-le-monde-!">Bonjour le monde !</h2>
<p>La tradition veut que l'on commence par écrire "Bonjour le monde !" sur la sortie standard (console) lorsque l'on découvre un nouveau langage de programmation.</p>
<pre class="code">
<span class="lua-line_comment">-- Ceci est un commentaire jusqu&#x27;à la fin de la ligne
</span><span class="lua-special">print</span><span class="lua-separator">(</span><span class="lua-string">&quot;Bonjour le monde !&quot;</span><span class="lua-separator">)</span><span class="lua-newline">
</span></pre>
<h2 id="mots-réservés-(22)">Mots réservés (22)</h2>
<pre class="code">
<span class="lua-keyword">and</span><span class="lua-blank">   </span><span class="lua-keyword">break</span><span class="lua-blank"> </span><span class="lua-keyword">do</span><span class="lua-blank">    </span><span class="lua-keyword">else</span><span class="lua-blank">  </span><span class="lua-keyword">elseif</span><span class="lua-blank"> </span><span class="lua-keyword">end</span><span class="lua-blank"> </span><span class="lua-boolean">false</span><span class="lua-blank"> </span><span class="lua-keyword">for</span><span class="lua-blank">    </span><span class="lua-keyword">function</span><span class="lua-blank"> </span><span class="lua-newline">
</span><span class="lua-keyword">goto</span><span class="lua-blank">  </span><span class="lua-keyword">if</span><span class="lua-blank">    </span><span class="lua-keyword">in</span><span class="lua-blank">    </span><span class="lua-keyword">local</span><span class="lua-blank"> </span><span class="lua-nil">nil</span><span class="lua-blank">    </span><span class="lua-keyword">not</span><span class="lua-blank"> </span><span class="lua-keyword">or</span><span class="lua-blank">    </span><span class="lua-keyword">repeat</span><span class="lua-blank"> </span><span class="lua-keyword">return</span><span class="lua-newline">
</span><span class="lua-keyword">then</span><span class="lua-blank">  </span><span class="lua-boolean">true</span><span class="lua-blank">  </span><span class="lua-keyword">until</span><span class="lua-blank"> </span><span class="lua-keyword">while</span><span class="lua-newline">
</span></pre>
<h2 id="commentaires">Commentaires</h2>
<p>Commentaires en Lua : <code><span class="lua-line_comment">-- mon commentaire jusqu&#x27;à la fin de la ligne</span></code></p>
<p>Commentaires sur plusieurs lignes :</p>
<pre class="code">
<span class="lua-line_comment">--[[
</span><span class="lua-blank">    </span><span class="lua-identifier">vos</span><span class="lua-blank"> </span><span class="lua-identifier">lignes</span><span class="lua-newline">
</span><span class="lua-line_comment">--]]
</span></pre>
<h2 id="variables">Variables</h2>
<p>Une variable est une référence vers une valeur. Une valeur a un type, pas la variable. L'exemple suivant établie une référence entre la variable a et la valeur 5 de type number.</p>
<pre class="code">
<span class="lua-identifier">a</span><span class="lua-blank"> </span><span class="lua-operator">=</span><span class="lua-blank"> </span><span class="lua-number">5</span><span class="lua-newline">
</span></pre>
<p>Il n'y a pas de constantes en Lua : une variable peut référencer ensuite une autre valeur.</p>
<p>Une variable peut référencer n'importe quel type de valeur.</p>
</div>
</div>
<h1 id="2.-types-de-base-(8)">2. Types de base (8)</h1>
<div class="row">
<div class="column">
<h2 id="nil">nil</h2>
<p>Le type <span class="type">nil</span> n'a qu'une seule valeur, <code><span class="lua-nil">nil</span></code>.</p>
<h2 id="booléens-:-boolean">Booléens : boolean</h2>
<p>Le type <span class="type">boolean</span> a deux valeurs, <code><span class="lua-boolean">true</span></code> et <code><span class="lua-boolean">false</span></code>.</p>
<p>Les valeurs <code><span class="lua-nil">nil</span></code> et <code><span class="lua-boolean">false</span></code> sont les deux seules valeurs qui sont considérées comme fausse par les tests. Toutes les autres valeurs, y compris <code><span class="lua-number">0</span></code> et la chaîne vide <code><span class="lua-string">&quot;&quot;</span></code> sont vraies.</p>
<h2 id="nombres-:-number">Nombres : number</h2>
<p>Le type <span class="type">number</span> a pour valeurs les entiers et les réels (ou flottants). Les conversions de l'un vers l'autre type sont automatiques. Par défaut, entiers et réels sont stockés sur 64 bits.</p>
</div>
<div class="column">
<h2 id="chaînes-de-caractères-:-string">Chaînes de caractères : string</h2>
<p>Le type <span class="type">string</span> unifie les caractères et les chaînes de caractères. Lua peut stocker les chaînes en UTF-8 mais ne sait pas comment les gérer.</p>
<p>Les chaînes sont immutables en Lua.</p>
<h2 id="fonctions-:-function">Fonctions : function</h2>
<p>Le type <span class="type">function</span> sera plus étudié dans le chapitre suivant. Il s'agit de bloc de code écrit en Lua ou en C.</p>
<h2 id="données-utilisateurs-:-userdata">Données utilisateurs : userdata</h2>
<h2 id="processus-légers-:-thread">Processus légers : thread</h2>
<h2 id="tables-:-table">Tables : table</h2>
<h3 id="définition">Définition</h3>
<h3 id="accès">Accès</h3>
<h3 id="métatable">Métatable</h3>
</div>
</div>
<h1 id="3.-opérateurs">3. Opérateurs</h1>
<div class="row">
<div class="column">
<h2 id="opérateurs-binaires">Opérateurs binaires</h2>
<h3 id="opérateurs-arithmétiques">Opérateurs arithmétiques</h3>
<h3 id="opérateurs-de-comparaisons">Opérateurs de comparaisons</h3>
<h3 id="opérateurs-booléens">Opérateurs booléens</h3>
<h3 id="autres-opérateurs">Autres opérateurs</h3>
</div>
<div class="column">
<h2 id="opérateurs-unaires">Opérateurs unaires</h2>
<h3 id="opérateurs-arithmétiques">Opérateurs arithmétiques</h3>
<h3 id="opérateurs-booléens">Opérateurs booléens</h3>
</div>
</div>
<h1 id="4.-contrôle-du-flux">4. Contrôle du flux</h1>
<div class="row">
<div class="column">
<h2 id="séquence">Séquence</h2>
<p>En Lua, le symbole pour terminer les instructions est <code><span class="lua-separator">;</span></code> mais il est totalement optionnel. Ce code est donc valide : <code><span class="lua-identifier">a</span><span class="lua-blank"> </span><span class="lua-operator">=</span><span class="lua-blank"> </span><span class="lua-number">5</span><span class="lua-blank"> </span><span class="lua-identifier">b</span><span class="lua-blank"> </span><span class="lua-operator">=</span><span class="lua-blank"> </span><span class="lua-number">6</span></code></p>
<h2 id="conditions">Conditions</h2>
<p>Pour qu'une partie du code ne soit exécutée que si une condition est vrai, on utilisera <code><span class="lua-keyword">if</span></code> :</p>
<pre class="code">
<span class="lua-keyword">if</span><span class="lua-blank"> </span><span class="lua-identifier">condition</span><span class="lua-blank"> </span><span class="lua-keyword">then</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-newline">
</span><span class="lua-separator">[</span><span class="lua-blank"> </span><span class="lua-keyword">elseif</span><span class="lua-blank"> </span><span class="lua-identifier">condition</span><span class="lua-blank"> </span><span class="lua-keyword">then</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-blank"> </span><span class="lua-separator">]</span><span class="lua-blank"> </span><span class="lua-operator">*</span><span class="lua-newline">
</span><span class="lua-separator">[</span><span class="lua-blank"> </span><span class="lua-keyword">else</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-blank"> </span><span class="lua-separator">]</span><span class="lua-blank"> </span><span class="lua-special">?</span><span class="lua-newline">
</span><span class="lua-keyword">end</span><span class="lua-newline">
</span></pre>
<p>Sont considérées fausses les valeurs <code><span class="lua-boolean">false</span></code> et <code><span class="lua-nil">nil</span></code>. Toutes les autres valeurs sont vraies (dont <code><span class="lua-separator">{</span><span class="lua-separator">}</span><span class="lua-blank"> </span><span class="lua-string">&quot;&quot;</span><span class="lua-blank"> </span><span class="lua-number">0</span></code>).</p>
<h2 id="répétitions">Répétitions</h2>
<p>Boucle qui s'exécute <i>tant que</i> la condition est vraie avec <code><span class="lua-keyword">while</span></code> :</p>
<pre class="code">
<span class="lua-keyword">while</span><span class="lua-blank"> </span><span class="lua-identifier">condition</span><span class="lua-blank"> </span><span class="lua-keyword">do</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-newline">
</span><span class="lua-keyword">end</span><span class="lua-newline">
</span></pre>
<p>Le corps de la boucle (ses actions) sera exécuté entre 0 et n fois.</p>
</div>
<div class="column">
<p>Avec <code><span class="lua-keyword">repeat</span></code>, le corps de la boucle sera exécuté au moins une fois car la condition est testée après :</p>
<pre class="code">
<span class="lua-keyword">repeat</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-newline">
</span><span class="lua-keyword">until</span><span class="lua-blank"> </span><span class="lua-identifier">condition</span><span class="lua-newline">
</span></pre>
<p>Autre grand classique des boucles, <code><span class="lua-keyword">for</span></code> qui peut-être utilisé avec un intervalle numérique :</p>
<pre class="code">
<span class="lua-keyword">for</span><span class="lua-blank"> </span><span class="lua-identifier">identifiant</span><span class="lua-blank"> </span><span class="lua-operator">=</span><span class="lua-blank"> </span><span class="lua-identifier">début</span><span class="lua-separator">,</span><span class="lua-blank"> </span><span class="lua-identifier">fin</span><span class="lua-blank"> </span><span class="lua-separator">[</span><span class="lua-blank"> </span><span class="lua-separator">,</span><span class="lua-blank"> </span><span class="lua-identifier">pas</span><span class="lua-blank"> </span><span class="lua-separator">]</span><span class="lua-blank"> </span><span class="lua-keyword">do</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-newline">
</span><span class="lua-keyword">end</span><span class="lua-newline">
</span></pre>
<p>Par défaut le pas est égal à 1 (si fin &amp;lt; début, la boucle ne s'exécutera pas une seule fois).</p>
<p>Ou avec une table indexée par des nombres :</p>
<pre class="code">
<span class="lua-keyword">for</span><span class="lua-blank"> </span><span class="lua-identifier">indice</span><span class="lua-separator">,</span><span class="lua-blank"> </span><span class="lua-identifier">valeur</span><span class="lua-blank"> </span><span class="lua-keyword">in</span><span class="lua-blank"> </span><span class="lua-special">ipairs</span><span class="lua-separator">(</span><span class="lua-identifier">table</span><span class="lua-separator">)</span><span class="lua-blank"> </span><span class="lua-keyword">do</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-newline">
</span><span class="lua-keyword">end</span><span class="lua-newline">
</span></pre>
<p>Ou avec une table indexée par des chaînes :</p>
<pre class="code">
<span class="lua-keyword">for</span><span class="lua-blank"> </span><span class="lua-identifier">clé</span><span class="lua-separator">,</span><span class="lua-blank"> </span><span class="lua-identifier">valeur</span><span class="lua-blank"> </span><span class="lua-keyword">in</span><span class="lua-blank"> </span><span class="lua-special">pairs</span><span class="lua-separator">(</span><span class="lua-identifier">table</span><span class="lua-separator">)</span><span class="lua-blank"> </span><span class="lua-keyword">do</span><span class="lua-newline">
</span><span class="lua-blank">    </span><span class="lua-identifier">actions</span><span class="lua-newline">
</span><span class="lua-keyword">end</span><span class="lua-newline">
</span></pre>
<p>Dans les trois cas, on peut utiliser le mot-clé <code><span class="lua-keyword">break</span></code> pour sortir de la boucle.</p>
<p>Il n'y a pas de mot-clé <i>continue</i> ou <i>next</i> en Lua pour passer à l'itération suivante.</p>
</div>
</div>
<h1 id="5.-fonctions">5. Fonctions</h1>
<h2 id="définition">Définition</h2>
<h2 id="appel">Appel</h2>
<h2 id="closure">Closure</h2>
<h1 id="6.-gestion-des-exceptions">6. Gestion des exceptions</h1>
<h2 id="appels-protégés">Appels protégés</h2>
<h1 id="7.-bibliothèque-de-base">7. Bibliothèque de base</h1>
<h2 id="sortie-et-entrée-console">Sortie et entrée console</h2>
<h2 id="nombres">Nombres</h2>
<h2 id="chaînes-de-caractères">Chaînes de caractères</h2>
<h2 id="tables">Tables</h2>
<h2 id="fichiers">Fichiers</h2>
<h1 id="8.-sites-web">8. Sites web</h1>
<div class="row">
<div class="column">
<h2 id="généraux">Généraux</h2>
<ul>
  <li><a href="https://www.lua.org">Site officiel du langage</a>, avec la distribution standard (interpréteur officiel + bibliothèque standard)</li>
  <li>La première édition, un peu datée, du livre électronique <i><a href="https://www.lua.org/pil/contents.html">Programming in Lua</a></i> (ou PIL) introduit Lua avec de nombreux exemples.</li>
  <li>Le <a href="http://lua-users.org/wiki/">wiki des utilisateurs</a> de Lua</li>
  <li><a href="http://luabinaries.sourceforge.net/">Lua binaries</a>, distributions de Lua pour différents systèmes d'exploitation</li>
  <li>Page de <a href="https://en.wikipedia.org/wiki/Lua_(programming_language)">Wikipédia sur Lua</a></li>
  <li>Boutique officielle <a href="https://www.zazzle.com/Lua_Store">Zazzle</a> pour supporter Lua via l'achat de goodies</li>
</ul>
<h2 id="bibliothèques">Bibliothèques</h2>
<ul>
  <li><a href="https://luarocks.org/">LuaRocks</a>, gestionnaire de bibliothèques</li>
  <li><a href="http://stevedonovan.github.io/Penlight/api/index.html">Penlight</a>, une librairie fondamentale</li>
  <li><a href="http://www.inf.puc-rio.br/~roberto/lpeg/">LPEG</a> pour du parsing</li>
  <li><a href="http://webserver2.tecgraf.puc-rio.br/iup/">IUP</a> pour les interfaces graphiques</li>
</ul>
</div>
<div class="column">
<h2 id="interpréteurs">Interpréteurs</h2>
<ul>
  <li><a href="https://love2d.org/">Löve</a>, VM Lua mettant à disposition une bibliothèque pour faire des jeux</li>
  <li><a href="https://repl.it/languages/lua">REPL.it</a> interpréteur en ligne</li>
  <li><a href="http://www.moonsharp.org/">MoonSharp</a> interpréteur en C# pour .Net, Mono et Unity</li>
  <li><a href="http://moonshinejs.org/">Moonshine</a> interpréteur et VM en JavaScript</li>
</ul>
<h2 id="langages-liés">Langages liés</h2>
<ul>
  <li><a href="https://github.com/teal-language/tl">Teal</a> surlangage avec des types.</li>
</ul>
<h2 id="outils">Outils</h2>
<ul>
  <li><a href="https://studio.zerobrane.com/">ZeroBrane Studio</a> un IDE léger, gratuit, simple et efficace</li>
</ul>
</div>
</div>
<p class="sign">Damien Gouteux Aide-mémoire Lua v0.1 2017-2021</p>
</div>
</div>
</body>